<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>《CSS世界》重点 | Viola&#39;s Blog</title>
    <meta name="description" content="Welcome to my site">
    <link rel="icon" href="/blog/favicon.ico">
    
    <link rel="preload" href="/blog/assets/css/styles.3a205f96.css" as="style"><link rel="preload" href="/blog/assets/js/app.3a205f96.js" as="script"><link rel="preload" href="/blog/assets/js/15.56976ae0.js" as="script"><link rel="prefetch" href="/blog/assets/js/7.2b62dc51.js"><link rel="prefetch" href="/blog/assets/css/1.styles.3c3b5234.css"><link rel="prefetch" href="/blog/assets/js/1.3c3b5234.js"><link rel="prefetch" href="/blog/assets/css/2.styles.e46d3883.css"><link rel="prefetch" href="/blog/assets/js/2.e46d3883.js"><link rel="prefetch" href="/blog/assets/js/3.5a790f3e.js"><link rel="prefetch" href="/blog/assets/js/4.6b3ce958.js"><link rel="prefetch" href="/blog/assets/js/5.8503fbdb.js"><link rel="prefetch" href="/blog/assets/js/6.028cc06d.js"><link rel="prefetch" href="/blog/assets/js/8.d1b6fd36.js"><link rel="prefetch" href="/blog/assets/js/9.b19172d9.js"><link rel="prefetch" href="/blog/assets/js/10.b8b166b2.js"><link rel="prefetch" href="/blog/assets/js/11.33936f24.js"><link rel="prefetch" href="/blog/assets/js/12.37fe878c.js"><link rel="prefetch" href="/blog/assets/js/13.b568c259.js"><link rel="prefetch" href="/blog/assets/js/14.963c0144.js"><link rel="prefetch" href="/blog/assets/js/16.e2c92e69.js"><link rel="prefetch" href="/blog/assets/js/17.8dc83e9c.js">
    <link rel="stylesheet" href="/blog/assets/css/1.styles.3c3b5234.css"><link rel="stylesheet" href="/blog/assets/css/2.styles.e46d3883.css"><link rel="stylesheet" href="/blog/assets/css/styles.3a205f96.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Viola's Blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/article/" class="nav-link">文章</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/blog/project/" class="nav-link">项目</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/resource/" class="nav-link">资源</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/violaY33" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/article/" class="nav-link">文章</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/blog/project/" class="nav-link">项目</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/resource/" class="nav-link">资源</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/violaY33" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>读书笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/blog/note/1.html" class="active sidebar-link">《CSS世界》重点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/note/1.html#_1-css世界中的“未定义行为”" class="sidebar-link">1.CSS世界中的“未定义行为”</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_2-内在盒子与外在盒子" class="sidebar-link">2.内在盒子与外在盒子</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_3-元素的三种尺寸" class="sidebar-link">3.元素的三种尺寸</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_4-流与流体布局" class="sidebar-link">4.流与流体布局</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_5-外部尺寸与流体特性" class="sidebar-link">5.外部尺寸与流体特性</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_6-内部尺寸与流体特性" class="sidebar-link">6.内部尺寸与流体特性</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_7-css流体布局下的宽度分离原则" class="sidebar-link">7.CSS流体布局下的宽度分离原则</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_8-width-auto的四种表现" class="sidebar-link">8.width: auto的四种表现</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_9-height-100" class="sidebar-link">9. height: 100%</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_10-min-width-max-width和min-height-max-height" class="sidebar-link">10.min-width/max-width和min-height/max-height</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_11-padding" class="sidebar-link">11.padding</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_12-margin" class="sidebar-link">12.margin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/note/1.html#margin-与元素的内部尺寸" class="sidebar-link">margin 与元素的内部尺寸</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#margin-与元素的外部尺寸" class="sidebar-link">margin 与元素的外部尺寸</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#margin合并" class="sidebar-link">margin合并</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#margin-auto计算规则" class="sidebar-link">margin: auto计算规则</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#margin-无效情形解析" class="sidebar-link">margin 无效情形解析</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_13-border" class="sidebar-link">13.border</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_14-内联元素" class="sidebar-link">14.内联元素</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_15-幽灵节点" class="sidebar-link">15.幽灵节点</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_16-替换元素（replaced-element）" class="sidebar-link">16.替换元素（replaced element）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/note/1.html#特性" class="sidebar-link">特性</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#替换元素的尺寸" class="sidebar-link">替换元素的尺寸</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#替换元素与非替换元素" class="sidebar-link">替换元素与非替换元素</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_17-content属性" class="sidebar-link">17.content属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/note/1.html#content-生成内容与普通内容区别" class="sidebar-link">content 生成内容与普通内容区别</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#content生成内容应用" class="sidebar-link">content生成内容应用</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#深入理解-content-计数器" class="sidebar-link">深入理解 content 计数器</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_18-字母x——css世界中隐匿的举足轻重的角色" class="sidebar-link">18.字母x——CSS世界中隐匿的举足轻重的角色</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_19-line-height" class="sidebar-link">19.line-height</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_20-vertical-align" class="sidebar-link">20.vertical-align</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_21-元素间隙" class="sidebar-link">21.元素间隙</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_22-float" class="sidebar-link">22.float</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_23-clear" class="sidebar-link">23.clear</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_24-bfc" class="sidebar-link">24.BFC</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_25-overflow" class="sidebar-link">25.overflow</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_26-position-absolute" class="sidebar-link">26.position: absolute</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_27-position-relative" class="sidebar-link">27.position:relative</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_28-position-fixed" class="sidebar-link">28.position:fixed</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_29-clip属性" class="sidebar-link">29.clip属性</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_30-z-index" class="sidebar-link">30.z-index</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_31-元素层叠准则" class="sidebar-link">31.元素层叠准则</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_32-层叠上下文与层叠顺序" class="sidebar-link">32.层叠上下文与层叠顺序</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_36-font-关键字属性值的应用价值" class="sidebar-link">36.font 关键字属性值的应用价值</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_37-font-face" class="sidebar-link">37.@font-face</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_38-text-indent" class="sidebar-link">38.text-indent</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_40-text-transform" class="sidebar-link">40.text-transform</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_41-first-letter" class="sidebar-link">41.:first-letter</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_42-first-line" class="sidebar-link">42.:first-line</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_43-background-position-百分比计算方式" class="sidebar-link">43. background-position 百分比计算方式</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_44-元素的显示与隐藏" class="sidebar-link">44.元素的显示与隐藏</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_45-display-与元素的显隐" class="sidebar-link">45.display 与元素的显隐</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_46-visibility-与元素的显隐" class="sidebar-link">46.visibility 与元素的显隐</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_47-outline" class="sidebar-link">47.outline</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_48-改变水平流向的-direction" class="sidebar-link">48.改变水平流向的 direction</a></li><li class="sidebar-sub-header"><a href="/blog/note/1.html#_49-改变-css-世界纵横规则的-writing-mode" class="sidebar-link">49. 改变 CSS 世界纵横规则的 writing-mode</a></li></ul></li><li><a href="/blog/note/2.html" class="sidebar-link">《CSS世界》技巧</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="《css世界》重点"><a href="#《css世界》重点" aria-hidden="true" class="header-anchor">#</a> 《CSS世界》重点</h1> <blockquote><p>实现时 “洋溢着灿烂的笑容”没什么好得意的，能够让日后维护甚至其他人接手项目维护的时候也“洋溢着灿烂的笑容”，那才是真厉害！</p></blockquote> <h2 id="_1-css世界中的“未定义行为”"><a href="#_1-css世界中的“未定义行为”" aria-hidden="true" class="header-anchor">#</a> 1.CSS世界中的“未定义行为”</h2> <p>浏览器中遇到的表现差异并非浏览器的bug，用计算机领域的专业术语描述应该是“未定义行为”（undefined behavior）。</p> <ul><li><p>bug：行为未遵循web标准。</p></li> <li><p>未定义行为： web标准空白，各大浏览器各自定义规则。</p></li></ul> <h2 id="_2-内在盒子与外在盒子"><a href="#_2-内在盒子与外在盒子" aria-hidden="true" class="header-anchor">#</a> 2.内在盒子与外在盒子</h2> <p>每个元素由两个盒子组成：外在盒子与内在盒子（容器盒子）。</p> <p>外在盒子决定元素在一行显示，还是必须换行显示；内在盒子负责宽高与内容显示。</p> <h2 id="_3-元素的三种尺寸"><a href="#_3-元素的三种尺寸" aria-hidden="true" class="header-anchor">#</a> 3.元素的三种尺寸</h2> <ul><li><p>元素尺寸</p> <p>对应 jQuery 中的<code>$().width()</code>和<code>$().height()</code>方法，包括 padding 和 border，也就是元素的 border box 的尺寸。在原生的 DOM API 中写作<code>offsetWidth</code>和 <code>offsetHeight</code>，所以，有时候也成为“元素偏移尺寸”。</p></li> <li><p>元素内部尺寸</p> <p>对应 jQuery 中的<code>$().innerWidth()</code>和$<code>().innerHeight()</code>方法，表示元素的内部区域尺寸，包括 padding 但不包括 border，也就是元素的 padding box 的尺寸。在原生的 DOM API 中写作 <code>clientWidth</code> 和 <code>clientHeight</code>，所以，有时候也称为“元素可视尺寸”。</p></li> <li><p>元素外部尺寸</p> <p>对应 jQuery 中的<code>$().outerWidth(true)</code>和<code>$().outerHeight(true)</code>方法，表示元素的外部尺寸，不仅包括 padding 和 border，还包括 margin，也就是元素的 margin box 的尺寸。没有相对应的原生的 DOM API。
“外部尺寸”有个很不一样的特性，就是尺寸的大小有可能是负数，没错，负尺寸。</p></li></ul> <h2 id="_4-流与流体布局"><a href="#_4-流与流体布局" aria-hidden="true" class="header-anchor">#</a> 4.流与流体布局</h2> <p>所谓“流”，就是 CSS 世界中引导元素排列和定位的一条看不见的“水流”。</p> <p>所谓“流体布局”，指的是利用元素“流”的特性实现的各类布局效果。因为“流”本身具有自适应特性，所以“流体布局”往往都是具有自适应性的。但是，“流体布局”并不等同于“自适应布局”。“自适应布局”是对凡是具有自适应特性的一类布局的统称，“流体布局”要狭窄得多。</p> <h2 id="_5-外部尺寸与流体特性"><a href="#_5-外部尺寸与流体特性" aria-hidden="true" class="header-anchor">#</a> 5.外部尺寸与流体特性</h2> <ul><li><p>正常流宽度</p> <p>当我们在一个容器中倒入足量的水，水一定会均匀铺满整个容器。在页面中随便扔一个<code>&lt;div&gt;</code>元素，其尺寸表现就会和水流一样铺满容器。这就是 block 容器的流特性。<strong>表现为“外部尺寸”的块级元素一旦设置了宽度，流动性就丢失了。</strong> 所谓流动性，并不是看上去的宽度 100% 显示这么简单，而是一种 margin/border/padding和content 内容区域自动分配水平空间的机制。</p></li> <li><p>格式化宽度</p> <p>格式化宽度仅出现在“绝对定位模型”中，也就是出现在 position 属性值为 absolute 或 fixed 的元素中。在默认情况下，绝对定位元素的宽度表现为“包裹性”，宽度由内部尺寸决定，但是有一种情况其宽度是由外部尺寸决定的：对于非替换元素，当 left/right或top/bottom 对立方位的属性值同时存在时，元素的宽度表现为“格式化宽度”，其宽度大小相对于<strong>最近的具有定位特性（position 属性值不是 static）的祖先元素</strong>计算。和上面的普通流一样，<strong>“格式化宽度”具有完全的流动性</strong>，也就是 margin、border、padding 和 content 内容区域自动分配水平（和垂直）空间。</p></li></ul> <h2 id="_6-内部尺寸与流体特性"><a href="#_6-内部尺寸与流体特性" aria-hidden="true" class="header-anchor">#</a> 6.内部尺寸与流体特性</h2> <ul><li><p>包裹性</p> <p>“包裹性”除了“包裹”，还有“自适应性”。所谓“自适应性”，指的是元素尺寸由内部元素决定，但永远小于“包含块”容器的尺寸（除非容器尺寸小于元素的“首选最小宽度”）。根据这个特性，可以实现，单行文字居中，多行文字左对齐。<a href="http://demo.cssworld.cn/3/2-5.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>首选最小宽度</p> <p>“首选最小宽度”，指的是元素最适合的最小宽度。假如外部容器的宽度是0，里面<code>width:auto</code>的 inline-block 元素的宽度不会是 0，此时所表现的宽度就是“首选最小宽度”。具体表现规则如下：</p> <ul><li><p>东亚文字（如中文）最小宽度为每个汉字的宽度。</p></li> <li><p>西方文字最小宽度由特定的连续的英文字符单元决定。</p></li> <li><p>类似图片这样的替换元素的最小宽度就是该元素内容本身的宽度。</p></li></ul></li> <li><p>最大宽度</p> <p>“最大宽度”实际等同于“包裹性”元素设置<code>white-space: nowrap</code>声明后的宽度。如果内部没有块级元素或者块级元素没有设定宽度值，则“最大宽度”实际上是最大的连续内联盒子的宽度。</p></li></ul> <h2 id="_7-css流体布局下的宽度分离原则"><a href="#_7-css流体布局下的宽度分离原则" aria-hidden="true" class="header-anchor">#</a> 7.CSS流体布局下的宽度分离原则</h2> <p>“宽度分离原则”，就是 CSS 中的 width 属性不与影响宽度的 padding/border（有时候包括 margin）属性共存，width 独立占用一层标签，而padding、border、margin 利用流动性在内部自适应呈现。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.father</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 102px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.son</span> <span class="token punctuation">{</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><p>宽度分离，利于维护。</p></li> <li><p>增加一层标签，增加HTML成本。 --&gt;  <strong>使用<code>box-sizing</code>改变width作用细节。</strong></p></li></ul> <h2 id="_8-width-auto的四种表现"><a href="#_8-width-auto的四种表现" aria-hidden="true" class="header-anchor">#</a> 8.width: auto的四种表现</h2> <ul><li><p>充分可利用空间</p></li> <li><p>收缩与包裹</p></li> <li><p>收缩到最小</p></li> <li><p>不超出容器限制（特殊设置除外）</p></li></ul> <h2 id="_9-height-100"><a href="#_9-height-100" aria-hidden="true" class="header-anchor">#</a> 9. height: 100%</h2> <p>但是，对于 height 属性，如果父元素 height 为 auto，只要子元素在文档流中，其百分比值完全就被忽略了。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token comment">/* 这是多余的 */</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token comment">/* 这是无效的 */</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url">url(bg.jpg)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>经过实践，我们会发现对于普通文档流中的元素，<strong>百分比高度值要想起作用，其父级必须有一个可以生效的高度值</strong>。</p> <ul><li><p>父级没有具体高度值的时候，<code>height: 100%</code>无效</p> <p>浏览器渲染的基本原理：首先下载文档内容，加载头部的样式资源，然后按照从上而下、自外而内的顺讯渲染 DOM 内容。也就是会先渲染父元素，后渲染子元素。因此，当渲染到父元素的时候，子元素的width:100%并没有渲染，宽度就是图片加文字内容的宽度；当渲染到子元素的时候，父元素宽度已经固定，此时的<code>width: 100%</code>就是已经固定好的父元素的宽度。</p> <p>如果包含块的高度没有显式指定（即高度由内容决定），并且该元素不是绝对定位，则计算值为auto。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>'auto' * 100/100 = NaN
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>让元素支持 <code>height: 100%</code>效果</p> <ul><li><p>设定显式的高度值。</p></li> <li><p>使用绝对定位。</p> <p>注意的是：绝对定位元素的百分比计算和非绝对定位元素的百分比计算是有区别的，区别在于 <strong>绝对定位的宽高百分比计算是相对于第一个position不为static的祖先元素（或根元素）的padding box的</strong> ，也就是说会把padding大小值计算在内，但是，<strong>非绝对定位元素是相对于content box计算的</strong>。</p></li></ul></li></ul> <h2 id="_10-min-width-max-width和min-height-max-height"><a href="#_10-min-width-max-width和min-height-max-height" aria-hidden="true" class="header-anchor">#</a> 10.min-width/max-width和min-height/max-height</h2> <ul><li><p>min-width/min-height 的初始值是 auto，max-width/max-height的初始值是 none。</p></li> <li><p>覆盖能力： min-width &gt; max-width &gt; !important</p></li> <li><p>用 max-height 实现高度不定的 hover 展开效果<a href="http://demo.cssworld.cn/3/3-2.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <h2 id="_11-padding"><a href="#_11-padding" aria-hidden="true" class="header-anchor">#</a> 11.padding</h2> <ul><li><p>对于非替换元素的内联元素，padding、margin 和 border 不会加入行盒高度的计算，但实际上在内联盒周围发生了渲染。<a href="https://demo.cssworld.cn/4/2-1.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>padding 的百分比值无论是水平方向还是垂直方向均是<strong>相对于宽度计算的</strong>。</p></li> <li><p>对于内联元素，其 padding 会断行。</p></li> <li><p>内联元素的垂直 padding 会让“幽灵空白节点”显现。</p></li> <li><p>元素内置padding</p> <ul><li><p>ol/ul 列表内置 padding-left，单位是 px。</p></li> <li><p>很多表单元素都内置 padding，例如：input、textarea、button 等。</p></li> <li><p><code>&lt;button&gt;</code>按钮元素就算我们重置 padding 为 0，在 Firefo 浏览器下，左右依然有 padding，可以试试使用：<code>button::-moz-focus-inner { padding: 0; }</code>。</p></li></ul></li> <li><p>如果容器可以滚动，在 IE 和 Firefox 浏览器下是会忽略 padding-bottom 值的，Chrome 等浏览器则不会。</p></li></ul> <h2 id="_12-margin"><a href="#_12-margin" aria-hidden="true" class="header-anchor">#</a> 12.margin</h2> <h3 id="margin-与元素的内部尺寸"><a href="#margin-与元素的内部尺寸" aria-hidden="true" class="header-anchor">#</a> margin 与元素的内部尺寸</h3> <p>当元素是“充分利用可用空间”状态的时候，margin 可以改变元素的可视尺寸。</p> <p>内联元素垂直方向的 margin 是没有任何影响的，既不会影响外部尺寸，也不会影响内部尺寸。对于水平方向，由于内联元素宽度表现为“包裹性”，也不会影响内部尺寸。</p> <h3 id="margin-与元素的外部尺寸"><a href="#margin-与元素的外部尺寸" aria-hidden="true" class="header-anchor">#</a> margin 与元素的外部尺寸</h3> <p>对于普通块状元素，在默认的水平流下，margin 只能改变左右方向的内部尺寸，垂直方向则无法改变。如果我们使用 writing-mode 改变流向为垂直流，则水平方向内部尺寸无法改变，垂直方向可以改变。</p> <p>和 padding 属性一样，margin 的百分比值无论是水平方向还是垂直方向都是<strong>相对于宽度</strong>计算的。</p> <h3 id="margin合并"><a href="#margin合并" aria-hidden="true" class="header-anchor">#</a> margin合并</h3> <ul><li><p>场景</p> <ul><li><p>相邻兄弟元素 margin 合并</p></li> <li><p>父级和第一个/最后一个子元素</p></li> <li><p>空块级元素的 margin 合并</p></li></ul></li> <li><p>阻止margin合并</p> <ul><li><p>父元素设置为块状格式化上下文元素</p></li> <li><p>父元素设置 border-top 值</p></li> <li><p>父元素设置 padding-top 值</p></li> <li><p>父元素和第一个子元素之间添加内联元素进行分隔</p></li> <li><p>父元素设置为块状格式化上下文元素</p></li> <li><p>父元素设置 border-bottom 值</p></li> <li><p>父元素设置 padding-bottom 值</p></li> <li><p>父元素和最后一个子元素之间添加内联元素进行分隔</p></li> <li><p>父元素设置 height、min-height 或 max-height</p></li></ul></li> <li><p>margin合并计算规则</p> <p>正正取大值，正负值相加，负负最负值。</p></li></ul> <h3 id="margin-auto计算规则"><a href="#margin-auto计算规则" aria-hidden="true" class="header-anchor">#</a> margin: auto计算规则</h3> <ul><li><p>如果一侧定值，一侧 auto，则 auto 为剩余空间大小。（<strong>所以，如果想让某个块状元素右对齐，脑子里不要就一个 float:right，很多时候，margin-left:auto 才是最佳的实践</strong>）</p></li> <li><p>如果两侧均是 auto，则平分剩余空间。</p></li> <li><p>触发 margin: auto 计算有一个前提条件，就是 width 或 height 为auto时，元素是具有<strong>对应方向的自动填充特性</strong>的。</p></li></ul> <h3 id="margin-无效情形解析"><a href="#margin-无效情形解析" aria-hidden="true" class="header-anchor">#</a> margin 无效情形解析</h3> <ul><li><p>display 计算值 inline 的非替换元素的垂直 margin 是无效的，虽然规范提到有渲染，但浏览器表现却未寻得一点踪迹，这和 padding 是有明显区别的。对于内联替换元素，垂直 margin 有效，并且没有 margin 合并的问题，所以图片永远不会发生 margin 合并。</p></li> <li><p>表格中的<code>&lt;tr&gt;</code>和<code>&lt;td&gt;</code>元素或者设置 display 计算值是 table-cell 或 table-row 的元素的 margin 都是无效的。但是，如果计算值是 table-caption、table 或者inline-table 则没有此问题，可以通过 margin 控制外间距，甚至 ::first-letter 伪元素也可以解析 margin。</p></li> <li><p>margin 合并的时候，更改 margin 值可能是没有效果的。以父子 margin 重叠为例，假设父元素设置有 margin-top:50px，则此时子元素设置 margin-top:30px 就没有任何效果表现，除非大小比 50px 大，或者是负值。</p></li> <li><p>绝对定位元素非定位方位的 margin 值“无效”。</p></li> <li><p>定高容器的子元素的 margin-bottom 或者宽度定死的子元素的 margin-right 的定位“失效”。</p></li> <li><p>鞭长莫及导致的 margin 无效。(有float元素时)</p></li> <li><p>内联特性导致的 margin 无效。(在 CSS 世界中，非主动触发位移的内联元素是不可能跑到计算容器外面的导致图片的位置被“幽灵空白节点”的 vertical-align:baseline 给限死了。)</p></li></ul> <h2 id="_13-border"><a href="#_13-border" aria-hidden="true" class="header-anchor">#</a> 13.border</h2> <ul><li><p>border-width 不支持百分比值</p></li> <li><p>border-color与color</p> <p>**“border-color 默认颜色就是color 色值”。**具有类似特性的 CSS 属性还有 outline、box-shadow 和 text-shadow 等。</p></li> <li><p>border 与透明边框技巧</p> <ul><li><p>右下方 background 定位的技巧</p></li> <li><p>优雅地增加点击区域大小</p></li> <li><p>三角形绘制</p></li></ul></li></ul> <h2 id="_14-内联元素"><a href="#_14-内联元素" aria-hidden="true" class="header-anchor">#</a> 14.内联元素</h2> <ul><li><p>内容区域（content area）。内容区域指一种围绕文字看不见的盒子，其大小仅受字符本身特性控制，本质上是一个字符盒子（character box）；但是有些元素，如图片这样的替换元素，其内容显然不是文字，不存在字符盒子之类的，因此，对于这些元素，内容区域可以看成元素自身。我们可以把文本选中的背景色区域作为内容区域。</p></li> <li><p>内联盒子（inline box）。“内联盒子”不会让内容成块显示，而是排成一行。</p></li> <li><p>行框盒子（line box）。每一行就是一个“行框盒子”，每个“行框盒子”又是由一个个“内联盒子”组成的。</p></li> <li><p>包含盒子（containing box）。此盒子由一行一行的“行框盒子”组成。更准确的称呼是“包含块”。</p></li></ul> <h2 id="_15-幽灵节点"><a href="#_15-幽灵节点" aria-hidden="true" class="header-anchor">#</a> 15.幽灵节点</h2> <p><strong>在 HTML5 文档声明中</strong>，内联元素的所有解析和渲染表现就如同每个行框盒子的前面有一个“空白节点”一样。这个“空白节点”永远透明，不占据任何宽度，看不见也无法通过脚本获取，就好像幽灵一样，但又确确实实地存在，表现如同文本节点一样，因此，我称之为“幽灵空白节点”。</p> <p>“幽灵空白节点”实际上也是一个盒子，不过是个假想盒，名叫“strut”，中文直译为“支柱”，是一个存在于每个“行框盒子”前面，同时具有该元素的字体和行高属性的 0 宽度的内联盒。</p> <h2 id="_16-替换元素（replaced-element）"><a href="#_16-替换元素（replaced-element）" aria-hidden="true" class="header-anchor">#</a> 16.替换元素（replaced element）</h2> <p>通过修改某个属性值呈现的内容就可以被替换的元素就称为“替换元素”。<code>&lt;img&gt;</code>、<code>&lt;object&gt;</code>、<code>&lt;video&gt;</code>、<code>&lt;iframe&gt;</code>或者表单元素<code>&lt;textarea&gt;</code>和<code>&lt;input&gt;</code>都是典型的替换元素。</p> <h3 id="特性"><a href="#特性" aria-hidden="true" class="header-anchor">#</a> 特性</h3> <ul><li><p>内容的外观不受页面上的 CSS 的影响。</p></li> <li><p>有自己的尺寸。</p></li> <li><p>在很多 CSS 属性上有自己的一套表现规则。</p></li></ul> <h3 id="替换元素的尺寸"><a href="#替换元素的尺寸" aria-hidden="true" class="header-anchor">#</a> 替换元素的尺寸</h3> <ul><li><p>替换元素尺寸类别：</p> <ul><li><p>固有尺寸，指的是替换内容原本的尺寸。</p></li> <li><p>HTML 尺寸。<code>&lt;img width=&quot;300&quot; height=&quot;100&quot;&gt;</code>。</p></li> <li><p>CSS 尺寸特指可以通过 CSS 的 width 和 height 或者 max-width/min-width 和max-height/min-height 设置的尺寸，对应盒尺寸中的 content box。</p></li></ul></li> <li><p>计算规则</p> <ul><li><p>如果没有 CSS 尺寸和 HTML 尺寸，则使用固有尺寸作为最终的宽高。</p></li> <li><p>如果没有 CSS 尺寸，则使用 HTML 尺寸作为最终的宽高。</p></li> <li><p>如果有 CSS 尺寸，则最终尺寸由 CSS 属性决定。</p></li> <li><p>如果“固有尺寸”含有固有的宽高比例，同时仅设置了宽度或仅设置了高度，则元素依然按照固有的宽高比例显示。</p></li> <li><p>如果上面的条件都不符合，则最终宽度表现为 300 像素，高度为 150 像素，宽高比 2 : 1。<code>&lt;img&gt;</code>例外。</p></li> <li><p>内联替换元素和块级替换元素使用上面同一套尺寸计算规则。</p></li></ul></li> <li><p>属性： object-fit</p> <p>在 CSS3 新世界中，<code>&lt;img&gt;</code>和其他一些替换元素的替换内容的适配方式可以通过 object-fit 属性修改了。</p></li></ul> <h3 id="替换元素与非替换元素"><a href="#替换元素与非替换元素" aria-hidden="true" class="header-anchor">#</a> 替换元素与非替换元素</h3> <ul><li><p>观点 1：替换元素和非替换元素之间只隔了一个 src 属性！如果我们把 src 属性去掉，<code>&lt;img&gt;</code>其实就是一个和<code>&lt;span&gt;</code>类似的普通的内联标签，也就是成了一个非替换元素。</p></li> <li><p>观点 2：替换元素和非替换元素之间只隔了一个 CSS content 属性！<a href="https://demo.cssworld.cn/4/1-4.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <h2 id="_17-content属性"><a href="#_17-content属性" aria-hidden="true" class="header-anchor">#</a> 17.content属性</h2> <p>我们把 content 属性生成的对象称为 <strong>“匿名替换元素”（anonymous replaced element）</strong>。</p> <h3 id="content-生成内容与普通内容区别"><a href="#content-生成内容与普通内容区别" aria-hidden="true" class="header-anchor">#</a> content 生成内容与普通内容区别</h3> <ul><li><p>使用 content 生成的文本是无法选中、无法复制的，类似设置了user-select:none，但是普通元素的文本却可以被轻松选中。同时，content 生成的文本无法被屏幕阅读设备读取，也无法被搜索引擎抓取，因此，千万不要把重要的文本信息使用content属性生成，这对可访问性和SEO都很不友好，content属性只能用来生成一些无关紧要的内容，如装饰性图形或者序号之类；同样，也不要担心原本重要的文字信息会被 content 替换，<strong>替换的仅仅是视觉层</strong>。</p></li> <li><p>不能左右:empty伪类。</p></li> <li><p>content 动态生成值无法获取。</p></li></ul> <h3 id="content生成内容应用"><a href="#content生成内容应用" aria-hidden="true" class="header-anchor">#</a> content生成内容应用</h3> <ul><li><p>content 辅助元素生成</p> <p>content 辅助元素生成只需要空字符串<code>content: ''</code>，无需<code>content: '.'</code>。</p> <p>应用： 辅助实现“两端对齐”以及“垂直居中/上边缘/下边缘对齐”。<a href="http://demo.cssworld.cn/4/1-7.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>content 字符内容生成</p> <p>应用：配合 @font-face 规则实现图标字体效果。<a href="http://demo.cssworld.cn/4/1-8.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>content 图片生成</p> <p>直接用 url 功能符显示图片。</p> <p>应用：实现新标签页链接标示。<a href="http://demo.cssworld.cn/4/1-10.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>content开启闭合符号生成</p> <p>content 支持的属性值中有一对不常用的 open-quote 和 close-quote 关键字，就是“开启的引号”和“闭合的引号”，即“上引号”和“下引号”。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">q</span> <span class="token punctuation">{</span> <span class="token property">quotes</span><span class="token punctuation">:</span> <span class="token string">'«'</span> <span class="token string">'»'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>content attr 属性值内容生成</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">img:after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">attr</span><span class="token punctuation">(</span>alt<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>content 内容生成的混合特性</p> <p>各种content内容生成语法是可以混合在一起使用。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">a:after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;(&quot;</span> <span class="token function">attr</span><span class="token punctuation">(</span>href<span class="token punctuation">)</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">q:before</span> <span class="token punctuation">{</span> 
    <span class="token property">content</span><span class="token punctuation">:</span> open-quote <span class="token url">url(1.jpg)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h3 id="深入理解-content-计数器"><a href="#深入理解-content-计数器" aria-hidden="true" class="header-anchor">#</a> 深入理解 content 计数器</h3> <p><a href="https://demo.cssworld.cn/4/1-19.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li><p>属性 counter-reset。计数器-重置，主要作用是给计算器命名， 可指定计数器计数起始点，默认从0开始。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.xxx</span> <span class="token punctuation">{</span> <span class="token property">counter-reset</span><span class="token punctuation">:</span> wangxiaoer 2<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>counter-reset 也可以多个计数器同时命名。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.xxx</span> <span class="token punctuation">{</span> <span class="token property">counter-reset</span><span class="token punctuation">:</span> wangxiaoer 2 wangxiaosan 3<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>属性 counter-increment 。计数器递增值为 counter-reset 的1个或多个关键字，后面可以跟数字，表示每次计数的变化值。如果省略，则默认为1。</p></li> <li><p>方法  counter() / counters()。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* name就是 counter-reset 的名称 */</span>
<span class="token function">counter</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>counters()可以说是嵌套计算的代名词。我们平时的序号不可能只是1、2、3、4……还会诸如1.1、1.2、1.3等的子序号，这时候就需要用到counters()。</p></li></ul> <h2 id="_18-字母x——css世界中隐匿的举足轻重的角色"><a href="#_18-字母x——css世界中隐匿的举足轻重的角色" aria-hidden="true" class="header-anchor">#</a> 18.字母x——CSS世界中隐匿的举足轻重的角色</h2> <ul><li><p>基线：字母 x 的下边缘（线）。</p> <p><img src="http://p9secbq22.bkt.clouddn.com/18-10-23/65683813.jpg" alt="基线"></p></li> <li><p>middle: middle 指的是基线往上 1/2 x-height 高度。可以近似理解为字母 x 交叉点那个位置。由此可见，<code>vertical-align:middle</code>并不是绝对的垂直居中对齐，我们平常看到的middle 效果只是一种近似效果。</p></li> <li><p>ex: ex 是 CSS 中的一个相对单位，指的是小写字母 x 的高度。ex 的价值就在其副业上 — 不受字体和字号影响的内联元素的垂直居中对齐效果。<a href="http://demo.cssworld.cn/5/1-1.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <h2 id="_19-line-height"><a href="#_19-line-height" aria-hidden="true" class="header-anchor">#</a> 19.line-height</h2> <ul><li><p>对于非替换元素的纯内联元素，其可视高度完全由 line-height 决定。</p></li> <li><p>line-height 不可以影响替换元素。</p></li> <li><p>对于块级元素，line-height 对其本身是没有任何作用。</p></li> <li><p>不同系统不同浏览器的默认 line-height 有差异。</p></li> <li><p>如果使用数值作为 line-height 的属性值，那么所有的子元素继承的都是这个值；但是，如果使用百分比值或者长度值作为属性值，那么所有的子元素继承的是最终的计算值。</p></li> <li><p>无论内联元素 line-height 如何设置，最终父级元素的高度都是由数值大的那个 line-height 决定的，我称之为“内联元素 line-height 的大值特性”。</p></li></ul> <h2 id="_20-vertical-align"><a href="#_20-vertical-align" aria-hidden="true" class="header-anchor">#</a> 20.vertical-align</h2> <ul><li><p>vertical-align 属性只能作用在 display 计算值为 inline、inline-block，inline-table 或 table-cell 的元素上。</p></li> <li><p>vertical-align 的百分比值是相对于 line-height 计算的。</p></li> <li><p>baseline：vertical-align 属性的默认值 baseline 在文本之类的内联元素那里就是字符 x 的下边缘，对于替换元素则是替换元素的下边缘。但是，如果是 inline-block 元素，则规则要复杂了：一个 inline-block 元素，如果里面没有内联元素，或者 overflow 不是 visible，则该元素的基线就是其 margin 底边缘；否则其基线就是元素里面最后一行内联元素的基线。</p></li> <li><p>top/bottom: 如果是内联元素，则和这一行位置最高的内联元素的顶部对齐；如果 display 计算值是 table-cell 的元素，我们不妨脑补成<code>&lt;td&gt;</code>元素，则和<code>&lt;tr&gt;</code>元素上边缘对齐。</p></li> <li><p>line-height 和 vertial-align: middle 实现的多行文本或者图片的垂直居中全部都是“近似垂直居中”，原因与 vertial- align:middle 的定义有关。通常的做法是设置 font-size:0，整个字符 x 缩小成了一个看不见的点，根据 line-height 的半行间距上下等分规则，这个点就正好是整个容器的垂直中心位置，这样就可以实现真正意义上的垂直居中对齐了。</p></li> <li><p>text-top/text-bottom: 盒子的顶部/底部和父级内容区域的顶部/底部对齐。</p></li></ul> <h2 id="_21-元素间隙"><a href="#_21-元素间隙" aria-hidden="true" class="header-anchor">#</a> 21.元素间隙</h2> <ul><li><p>间隙产生的三大元凶就是“幽灵空白节点”、line-height 和 vertical-align 属性。</p></li> <li><p>图片作为替换元素其基线是自身的下边缘。</p></li> <li><p>消除间隙</p> <ul><li><p>图片块状化。</p></li> <li><p>容器 line-height 足够小。</p></li> <li><p>图片设置其他 vertical-align 属性值。</p></li></ul></li></ul> <h2 id="_22-float"><a href="#_22-float" aria-hidden="true" class="header-anchor">#</a> 22.float</h2> <p>浮动的本质就是为了实现文字环绕效果。浮动是魔鬼，<strong>少砌砖头、少浮动，要更多地去挖掘 CSS 世界本身的“流动性”和“自适应性”</strong>，以构建能够适用于各种环境的高质量的网页布局。</p> <ul><li><p>float 特性</p> <ul><li><p>包裹性</p></li> <li><p>块状化并格式化上下文</p></li> <li><p>破坏文档流</p></li> <li><p>没有任何 margin 合并</p></li></ul></li></ul> <h2 id="_23-clear"><a href="#_23-clear" aria-hidden="true" class="header-anchor">#</a> 23.clear</h2> <p>官方对 clear 属性的解释是：“元素盒子的边不能和前面的浮动元素相邻。”,就是设置了 clear 属性的元素自身如何如何，而不是让 float 元素如何如何。</p> <ul><li><p>none：默认值，左右浮动来就来。</p></li> <li><p>left：左侧抗浮动。</p></li> <li><p>right：右侧抗浮动。</p></li> <li><p>both：两侧抗浮动。</p></li></ul> <p>clear 属性只有<strong>块级元素才有效</strong>的，而::after 等伪元素默认都是内联水平，这就是借助伪元素清除浮动影响时需要设置 display 属性值的原因。</p> <ul><li><p>清除浮动</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.clear:after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span> // 也可以是<span class="token string">'block'</span>，或者是<span class="token string">'list-item'</span>
    <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul> <h2 id="_24-bfc"><a href="#_24-bfc" aria-hidden="true" class="header-anchor">#</a> 24.BFC</h2> <p>BFC 全称为 block formatting context，中文为“块级格式化上下文”。</p> <p>如果一个元素具有 BFC，内部子元素再怎么翻江倒海、翻云覆雨，都不会影响外部的元素。所以，BFC 元素是不可能发生 margin 重叠的，因为 margin 重叠是会影响外面的元素的；BFC 元素也可以用来清除浮动的影响，因为如果不清除，子元素浮动则父元素高度塌陷，必然会影响后面元素布局和定位，这显然有违 BFC 元素的子元素不会影响外部元素的设定。</p> <p>BFC触发条件：</p> <ul><li><p><code>&lt;html&gt;</code>根元素</p></li> <li><p>float 的值不为 none</p></li> <li><p>overflow 的值为 auto、scroll 或 hidden</p></li> <li><p>display 的值为 table-cell、table-caption 和 inline-block 中的任何一个</p></li> <li><p>position 的值不为 relative 和 static</p></li></ul> <p>BFC 的结界特性最重要的用途其实不是去 margin 重叠或者是清除 float 影响，而是<strong>实现更健壮、更智能的自适应布局</strong>。</p> <p>普通流体元素在设置了<code>overflow: hidden</code>后，会自动填满容器中除了浮动元素以外的剩余空间，形成自适应布局效果，而且这种自适应布局要比纯流体自适应更加智能。</p> <h2 id="_25-overflow"><a href="#_25-overflow" aria-hidden="true" class="header-anchor">#</a> 25.overflow</h2> <p>要想彻底清除浮动的影响，最适合的属性不是 clear 而是 overflow。一般使用overflow:hidden，利用 BFC 的“结界”特性彻底解决浮动对外部或兄弟元素的影响。“结界”只是其衍生出来的特性，“剪裁”才是其本职工作。</p> <ul><li><p>overflow 剪裁界线 border box</p> <p>当子元素内容超出容器宽度高度限制的时候，剪裁的边界是 border box 的内边缘，而非 padding box 的内边缘。<a href="http://demo.cssworld.cn/6/4-1.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>如果想实现元素剪裁同时四周留有间隙的效果的话，可以试试使用透明边框。</p></li> <li><p><strong>我们在实际项目开发的时候，要尽量避免滚动容器设置 padding-bottom 值，除了样式表现不一致外，还会导致 scrollHeight 值不一样，这往往会给开发带来难以察觉的麻烦，需要引起注意。</strong></p></li> <li><p>如果 overflow-x 和 overflow-y 属性中的一个值设置为 visible 而另外一个设置为 scroll、auto 或 hidden，则 visible 的样式表现会如同 auto。也就是说，除非 overflow-x 和 overflow-y 的属性值都是 visible，否则 visible 会当成 auto 来解析。换句话说，永远不可能实现一个方向溢出剪裁或滚动，另一方向内容溢出显示的效果。</p></li> <li><p>HTML 中有两个标签是默认可以产生滚动条的，一个是根元素<code>&lt;html&gt;</code>，另一个是文本域<code>&lt;textarea&gt;</code>。</p></li> <li><p>关于浏览器的滚动条</p> <ul><li><p>在 PC 端，无论是什么浏览器，默认滚动条均来自<code>&lt;html&gt;</code>，而不是<code>&lt;body&gt;</code>标签。如果我们想要去除页面默认滚动条，只需要：<code>html { overflow: hidden; }</code>。在 PC 端，对<code>&lt;html&gt;</code>标签设置 overflow:hidden 可以隐藏滚动条禁止滚动，但是在移动端基本上无效。在 PC 端，窗体滚动高度可以使用 <code>document.documentElement.scrollTop</code> 获取，但是在移动端，可能就要使用 <code>document.body.scrollTop</code> 获取。</p></li> <li><p>滚动条会占用容器的可用宽度或高度。(宽度17px)</p></li> <li><p>自定义滚动条</p> <ul><li><p>整体部分，::-webkit-scrollbar；</p></li> <li><p>两端按钮，::-webkit-scrollbar-button；</p></li> <li><p>外层轨道，::-webkit-scrollbar-track；</p></li> <li><p>内层轨道，::-webkit-scrollbar-track-piece；</p></li> <li><p>滚动滑块，::-webkit-scrollbar-thumb；</p></li> <li><p>边角，::-webkit-scrollbar-corner。</p></li></ul></li></ul></li> <li><p>依赖 overflow 的样式表现</p> <ul><li><p><code>text-overflow: ellipsis</code></p></li> <li><p>对-webkit-私有前缀支持良好的浏览器还可以实现多行文字打点效果，但是却无须依赖 overflow:hidden，使用<code>-webkit-box-orient</code>、<code>-webkit-line-clamp</code>。</p></li></ul></li> <li><p><code>overflow: hidden</code> 元素依然可以滚动这一点</p></li></ul> <h2 id="_26-position-absolute"><a href="#_26-position-absolute" aria-hidden="true" class="header-anchor">#</a> 26.position: absolute</h2> <p>绝对定位元素计算的容器是第一个 position 不为 static 的祖先元素。</p> <p><strong>absolute 是非常独立的 CSS 属性值，其样式和行为表现不依赖其他任何 CSS 属性就可以完成。</strong></p> <ul><li><p>无依赖绝对定位（无须父元素position: relative）</p> <p>“无依赖绝对定位”本质上就是“相对定位”，仅仅是不占据 CSS 流的尺寸空间而已。应用：</p> <ul><li><p>各类图标定位<a href="http://demo.cssworld.cn/6/5-5.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>超越常规布局的排版<a href="http://demo.cssworld.cn/6/5-6.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>下拉列表的定位</p></li> <li><p>占位符效果模拟</p></li></ul></li> <li><p>text-align 可以改变absolute 元素的位置，这里之所以产生了位置变化，本质上是“幽灵空白节点”和“无依赖绝对定位”共同作用的结果。<a href="http://demo.cssworld.cn/6/5-10.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>如果overflow 不是定位元素，同时绝对定位元素和 overflow 容器之间也没有定位元素，则overflow 无法对 absolute 元素进行剪裁。</p></li> <li><p>clip 属性要想起作用，元素必须是绝对定位或者固定定位，也就是 position 属性值必须是absolute 或者 fixed。</p></li> <li><p>当 absolute 遇到 left/top/right/bottom 属性的时候，absolute 元素才真正变成绝对定位元素。</p></li> <li><p>absolute 的流体特性</p> <p>当一个绝对定位元素，其<strong>对立定位方向</strong>属性同时有具体定位数值的时候，流体特性就发生了。</p></li> <li><p>绝对定位元素的 margin:auto 的填充规则和普通流体元素的一模一样。</p></li></ul> <p>与绝对定位相关的居中布局中，<strong>百分比 transform 会让 iOS 微信闪退，还是尽量避免的好。</strong></p> <h2 id="_27-position-relative"><a href="#_27-position-relative" aria-hidden="true" class="header-anchor">#</a> 27.position:relative</h2> <p>relative 的定位有两大特性：一是相对自身；二是无侵入。“无侵入”的意思是，当relative 进行定位偏移的时候，一般情况下不会影响周围元素的布局。</p> <p>relative 的定位还有另外两点值得一提：相对定位元素的 left/top/right/bottom的百分比值是<strong>相对于包含块</strong>计算的，而不是自身。注意，虽然定位位移是相对自身，但是百分比值的计算值不是。</p> <p>当相对定位元素同时应用对立方向定位值的时候，也就是 top/bottom 和 left/right同时使用的时候，其表现和绝对定位差异很大。绝对定位是尺寸拉伸，保持流体特性，但是相对定位却是“你死我活”的表现，也就是说，只有一个方向的定位属性会起作用。而孰强孰弱则是与文档流的顺序有关的，默认的文档流是自上而下、从左往右，因此 top/bottom 同时使用的时候，bottom 被干掉；left/right 同时使用的时候，right 毙命。</p> <p>relative 的最小化影响原则:</p> <ul><li><p>尽量不使用 relative，如果想定位某些元素，看看能否使用“无依赖的绝对定位”。</p></li> <li><p>如果场景受限，一定要使用 relative，则该 relative 务必最小化（影响的元素最少）。因为一个普通元素变成相对定位元素，看上去长相什么的没有变化，但是实际上元素的层叠顺序提高了。</p></li></ul> <h2 id="_28-position-fixed"><a href="#_28-position-fixed" aria-hidden="true" class="header-anchor">#</a> 28.position:fixed</h2> <p><code>position: fixed</code> 固定定位元素的“包含块”是根元素，我们可以将其近似看成<code>&lt;html&gt;</code>元素。换句话说，唯一可以限制固定定位元素的就是<code>&lt;html&gt;</code>根元素，而根元素就这么一个。</p> <h2 id="_29-clip属性"><a href="#_29-clip属性" aria-hidden="true" class="header-anchor">#</a> 29.clip属性</h2> <p>clip 剪裁非常有用，在以下两种场景下具有不可替代的地位。</p> <ul><li><p>fixed 固定定位的剪裁</p></li> <li><p>最佳可访问性隐藏</p></li></ul> <p>至少在 Chrome 浏览器下，clip 仅仅是决定了哪一部分是可见的，对于原来占据的空间并无影响。使用 clip 进行剪裁的元素其clientWidth 和 clientHeight 包括样式计算的宽高都还是原来的大小，虽然尺寸还是原来的尺寸，但是，隐藏的区域是无法影响我们的点击行为的，说明 clip 隐藏还是很干脆的。虽然视觉上隐藏，但是元素的尺寸依然是原本的尺寸。</p> <h2 id="_30-z-index"><a href="#_30-z-index" aria-hidden="true" class="header-anchor">#</a> 30.z-index</h2> <p>z-index 属性只有和定位元素（position 不为 static 的元素）在一起的时候才有作用，可以是正数也可以是负数。但随着 CSS3 新世界的到来，z-index 已经并非只对定位元素有效，flex 盒子的子元素也可以设置 z-index 属性。</p> <ul><li><p>z-index负值应用：</p> <ul><li><p>可访问性隐藏。</p></li> <li><p>IE8 下的多背景模拟。</p></li> <li><p>定位在元素的后面。</p></li></ul></li> <li><p>z-index“不犯二”准则</p> <p>对于非浮层元素，避免设置 z-index 值，z-index 值没有任何道理需要超过 2。由于 z-index 不能超过 2，因此，我称其为“不犯二”准则。</p> <ul><li><p>定位元素一旦设置了 z-index 值，就从普通定位元素变成了层叠上下文元素，相互间的层叠顺序就发生了根本的变化，很容易出现设置了巨大的 z-index 值也无法覆盖其他元素的问题。</p></li> <li><p>避免 z-index“一山比一山高”的样式混乱问题。</p></li></ul></li></ul> <h2 id="_31-元素层叠准则"><a href="#_31-元素层叠准则" aria-hidden="true" class="header-anchor">#</a> 31.元素层叠准则</h2> <ul><li><p>谁大谁上：当具有明显的层叠水平标识的时候，如生效的 z-index 属性值，在同一个层叠上下文领域，层叠水平值大的那一个覆盖小的那一个。</p></li> <li><p>后来居上：当元素的层叠水平一致、层叠顺序相同的时候，在 DOM 流中处于后面的元素会覆盖前面的元素。</p> <p><img src="http://p9secbq22.bkt.clouddn.com/18-10-24/35065997.jpg" alt="元素层叠"></p> <p><code>z-index:auto</code>所在的<code>&lt;div&gt;</code>元素是一个普通定位元素，于是，里面的两个<code>&lt;img&gt;</code>元素的层叠比较就不受父级的影响，两者直接套用“层叠黄金准则”。
而 z-index 一旦变成数值，哪怕是 0，就会创建一个层叠上下文。</p></li></ul> <h2 id="_32-层叠上下文与层叠顺序"><a href="#_32-层叠上下文与层叠顺序" aria-hidden="true" class="header-anchor">#</a> 32.层叠上下文与层叠顺序</h2> <ul><li><p>如果层叠上下文元素不依赖 z-index 数值，则其层叠顺序是 z-index:auto，可看成 z:index:0 级别。</p></li> <li><p>如果层叠上下文元素依赖 z-index 数值，则其层叠顺序由 z-index 值决定。</p> <p><img src="http://p9secbq22.bkt.clouddn.com/18-10-24/65650646.jpg" alt="层叠上下文与层叠顺序"></p> <p>元素一旦成为定位元素，其 z-index 就会自动生效，此时其 z-index 就是默认的 auto，也就是0级别，根据上面的层叠顺序表，就会覆盖inline或block或float元素。而不支持z-index的层叠上下文元素天然是 z-index:auto 级别，也就意味着，层叠上下文元素和定位元素是一个层叠顺序的，于是当它们发生层叠的时候，遵循的是“后来居上”准则。</p></li></ul> <ol start="33"><li>font-size</li></ol> <p>line-height 的数值属性值和百分比值属性值都是相对于 font-size 计算。</p> <p>除了0，所有小于12px的值都会被当作12px计算。</p> <ol start="34"><li>vertical-align</li></ol> <p>vertical-align 百分比值属性值又是相对于 line-height 计算的。</p> <ol start="35"><li>px、em、rem</li></ol> <p>如何权衡“易于实现维护”“视觉还原”“可访问性”这三者，我这里有两个珍藏的建议。</p> <ul><li><p>即使是定宽的传统桌面端网页，也需要做响应式处理，尤其是针对 1200 像素宽度设计的网页，但只需要响应到 800 像素即可，可以保证至少有 1.5 倍的缩放空间，如果做到这一步，那么是否需要响应浏览器的字号设置这一点就可以忽略。</p></li> <li><p>如果困各种原因无法做响应式处理，也没有必要全局都使用相对单位，毕竟成本等现实问题摆在那里，其实只需要在图文内容为主的重要局部区域使用可缩放的 font-size 处理即可。例如，小说网站的阅读页、微信公众号文章展示区、私信对话内容区、搜索引擎的落地页、评论区等，都强烈建议摒弃 px 单位，而采用下面的实践策略。</p> <ul><li><p>容器设置<code>font-size:medium</code>，此时，这个局部展示区域的字号就跟着浏览器的设置走了，默认计算值是 16px。</p></li> <li><p>容器内的文字字号全部使用相对单位，如百分比值或者 em 都可以，然后基于 16px 进行转换。</p></li></ul> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.article</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> medium<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.article h1</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> .875em 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.article p</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 87.5%<span class="token punctuation">;</span> <span class="token comment">/* 默认字号下计算值是 14px */</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 1em 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>同时使用自适应流体布局，间距什么的也使用相对单位，例如上面 margin 使用的是em 单位。于是，当用户改变了浏览器的字号后，整个阅读区域的所有字样甚至布局都会跟着放大，文字一下子就看清楚了。这种局部处理的好处在于，页面的导航、侧边栏这些不需要长时间阅读的模块还是原来的像素布局，还是那么精致，丝毫不受影响。</p></li></ul> <h2 id="_36-font-关键字属性值的应用价值"><a href="#_36-font-关键字属性值的应用价值" aria-hidden="true" class="header-anchor">#</a> 36.font 关键字属性值的应用价值</h2> <p>让网页字体跟着系统走。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">html</span> <span class="token punctuation">{</span> <span class="token property">font</span><span class="token punctuation">:</span> menu<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_37-font-face"><a href="#_37-font-face" aria-hidden="true" class="header-anchor">#</a> 37.@font-face</h2> <p>@font face 本质上就是一个定义字体或字体集的变量，这个变量不仅仅是简单地自定义字体，还包括字体重命名、默认字体样式设置等。</p> <p>应用：制作响应式图标<a href="http://demo.cssworld.cn/8/5-1.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_38-text-indent"><a href="#_38-text-indent" aria-hidden="true" class="header-anchor">#</a> 38.text-indent</h2> <ul><li><p>text-indent 负值缩进在部分浏览器下会影响元素的 outline 区域，通常需要再设置<code>overflow: hidden</code>。</p></li> <li><p>text-indent 仅对第一行内联盒子内容有效。</p></li> <li><p>非替换元素以外的 display 计算值为 inline 的内联元素设置 text-indent 值无效，如果计算值是 inline-block/inline-table 则会生效。因此，如果父级块状元素设置了 text-indent 属性值，子 inline-block/inline-table 需要设置 text-indent:0重置。</p></li> <li><p><code>&lt;input&gt;</code>标签按钮 text-indent 值无效。</p></li> <li><p><code>&lt;button&gt;</code>标签按钮 text-indent 值有效，但是存在兼容性差异，IE 浏览器理解为单标签，百分比值按照容器计算，而 Chrome 和 Firefox 浏览器标签内还有其他 Shadow DOM 元素，因此百分比值是按照自身的尺寸计算的。</p></li> <li><p><code>&lt;input&gt;</code>和<code>&lt;textarea&gt;</code>输入框的 text-indent 在低版本 IE 浏览器下有兼容问题。</p></li></ul> <ol start="39"><li>text-align:justify</li></ol> <p>在默认设置下，text-align:justify 要想有两端对齐的效果，需要满足两点：一是有分隔点，如空格；二是要超过一行，此时非最后一行内容会两端对齐。</p> <p>CSS 世界中有一个 text-align-last 属性，可以规定最后一行内联内容的排列方式，这是从 IE 浏览器过来的。例如：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.justify</span> <span class="token punctuation">{</span>
    <span class="token property">text-align-last</span><span class="token punctuation">:</span> justify<span class="token punctuation">;</span> <span class="token comment">/*兼容性不好*/</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_40-text-transform"><a href="#_40-text-transform" aria-hidden="true" class="header-anchor">#</a> 40.text-transform</h2> <p>应用：</p> <ul><li><p>身份证输入</p></li> <li><p>验证码输入</p></li></ul> <h2 id="_41-first-letter"><a href="#_41-first-letter" aria-hidden="true" class="header-anchor">#</a> 41.:first-letter</h2> <p>要想让::first-letter(:first-letter)伪元素生效，是需要满足一定条件的，首先，元素的 display 计算值必须是 block、inline-block、list-item、table-cell 或者 table-caption，其他所有 display 计算值都没有用，包括 display:table和 display:flex 等，此外，不是所有的字符都能单独作为::first-letter 伪元素存在的，<code>·@#%&amp;*()（）[]【】{}:：&quot;“”;；'‘’》《,，.。？?!！…*、/\</code>不生效。</p> <h2 id="_42-first-line"><a href="#_42-first-line" aria-hidden="true" class="header-anchor">#</a> 42.:first-line</h2> <p>:first-line 和:first-letter 伪元素一样，只能作用在块级元素上。</p> <h2 id="_43-background-position-百分比计算方式"><a href="#_43-background-position-百分比计算方式" aria-hidden="true" class="header-anchor">#</a> 43. background-position 百分比计算方式</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>positionX = (容器的宽度 - 图片的宽度) * percentX;
positionY = (容器的高度 - 图片的高度) * percentY;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_44-元素的显示与隐藏"><a href="#_44-元素的显示与隐藏" aria-hidden="true" class="header-anchor">#</a> 44.元素的显示与隐藏</h2> <ul><li><p>如果希望元素不可见，同时不占据空间，辅助设备无法访问，同时不渲染，可以使用<code>&lt;script&gt;</code>标签隐藏。</p></li> <li><p>如果希望元素不可见，同时不占据空间，辅助设备无法访问，但资源有加载，DOM 可访问，则可以直接使用 <code>display:none</code> 隐藏。</p></li> <li><p>如果希望元素不可见，同时不占据空间，辅助设备无法访问，但显隐的时候可以有transition 淡入淡出效果，则可以使用：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.hidden</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>如果希望元素不可见，不能点击，辅助设备无法访问，但占据空间保留，则可以使用<code>visibility:hidden</code> 隐藏。</p></li> <li><p>如果希望元素不可见，不能点击，不占据空间，但键盘可访问，则可以使用 clip 剪裁隐藏。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.clip</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token function">rect</span><span class="token punctuation">(</span>0 0 0 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.out</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> -999em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>如果希望元素不可见，不能点击，但占据空间，且键盘可访问，则可以试试 relative隐藏。</p></li></ul> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.lower</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> -1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><p>如果希望元素不可见，但可以点击，而且不占据空间，则可以使用透明度。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.opacity</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">Alpha</span><span class="token punctuation">(</span>opacity=0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>如果单纯希望元素看不见，但位置保留，依然可以点可以选，则直接让透明度为 0。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.opacity</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">Alpha</span><span class="token punctuation">(</span>opacity=0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <h2 id="_45-display-与元素的显隐"><a href="#_45-display-与元素的显隐" aria-hidden="true" class="header-anchor">#</a> 45.display 与元素的显隐</h2> <p><code>display: none</code> 的元素的 background-image 图片是不加载的，另外，如果不是 background-image 图片，而是<code>&lt;img&gt;</code>元素，则设置 display:none 在所有浏览器下依旧都会请求图片资源。</p> <p>表单元素的显示与隐藏并不影响数据的提交，其真正影响的是 disabled 属性。</p> <p>display:none 显隐控制并不会影响 CSS3 animation 动画的实现，但是会影响 CSS3transition 过渡效果执行，因此 transition 往往和 visibility 属性走得比较近。</p> <h2 id="_46-visibility-与元素的显隐"><a href="#_46-visibility-与元素的显隐" aria-hidden="true" class="header-anchor">#</a> 46.visibility 与元素的显隐</h2> <p>父元素设置 <code>visibility:hidden</code>，子元素也会看不见，究其原因是继承性，子元素继承了 <code>visibility:hidden</code>，但是，如果子元素设置了 visibility:visible，则子元素又会显示出来。</p> <p>visibility:hidden 不会影响计数器的计数，这和 display:none 完全不一样。</p> <p>由于transition可以延时执行，因此，和visibility配合可以使用纯CSS实现hover延时显示效果，由此提升我们的交互体验。<a href="http://demo.cssworld.cn/10/2-3.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_47-outline"><a href="#_47-outline" aria-hidden="true" class="header-anchor">#</a> 47.outline</h2> <p>**万万不可在全局设置 outline:0 none。**在默认状态下，对处于 focus 状态的元素，浏览器会通过虚框或者外发光的形式进行区分和提示。</p> <p>outline属性确实不占据任何空间，轮廓宽度设置得再宽广，也不会影响任何元素的任何布局，并且outline轮廓是可穿透的。</p> <p>应用：</p> <ul><li><p>头像剪裁的矩形镂空效果<a href="http://demo.cssworld.cn/11/1-1.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>自动填满屏幕剩余空间的应用技巧<a href="https://demo.cssworld.cn/11/1-2.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <h2 id="_48-改变水平流向的-direction"><a href="#_48-改变水平流向的-direction" aria-hidden="true" class="header-anchor">#</a> 48.改变水平流向的 direction</h2> <p>direction 属性默认有这么一个特性，即可以改变替换元素或者 inline-block/inline-table 元素的水平呈现顺序。</p> <h2 id="_49-改变-css-世界纵横规则的-writing-mode"><a href="#_49-改变-css-世界纵横规则的-writing-mode" aria-hidden="true" class="header-anchor">#</a> 49. 改变 CSS 世界纵横规则的 writing-mode</h2> <p><img src="http://p9secbq22.bkt.clouddn.com/18-10-25/36777714.jpg" alt="writing-mode">
writing-mode 将页面默认的水平流改成了垂直流，颠覆了我们以往的很多认知，基于原本水平方向才适用的规则全部都可以在垂直方向适用！</p> <ul><li><p>水平方向也能 margin 合并</p></li> <li><p>普通块元素可以使用 <code>margin:auto</code> 实现垂直居中</p></li> <li><p>可以使用 text-align:center 实现图片垂直居中</p></li> <li><p>可以使用 text-indent 实现文字下沉效果<a href="http://demo.cssworld.cn/12/2-5.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>可以实现全兼容的 icon fonts 图标的旋转效果<a href="http://demo.cssworld.cn/12/2-6.php" target="_blank" rel="noopener noreferrer">👉demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>充分利用高度的高度自适应布局</p></li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blog/note/2.html">
          《CSS世界》技巧
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/blog/assets/js/15.56976ae0.js" defer></script><script src="/blog/assets/js/app.3a205f96.js" defer></script>
  </body>
</html>
